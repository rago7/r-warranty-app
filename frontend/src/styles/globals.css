@import "tailwindcss";
@tailwind utilities;

/* Design tokens - Navyâ€“Teal with Coral accent */
:root {
  /* colors as RGB so we can use with rgb(var(--token) / <alpha>) */
  --bg: 247 250 252;        /* #F7FAFC */
  --fg: 15 23 42;           /* slate-900 / Navy 900 #0F172A */
  --muted-fg: 71 85 105;    /* slate-600 #475569 */
  --card: 255 255 255;      /* white #FFFFFF */
  --border: 226 232 240;    /* slate-200 #E2E8F0 */

  /* Brand colors */
  --brand: 15 23 42;        /* Navy 900 #0F172A */
  --brand-hover: 30 41 59;  /* Navy 800 #1E293B */

  /* Primary: Teal for actions/links */
  --primary: 20 184 166;    /* Teal 500 #14B8A6 */
  --primary-hover: 13 148 136; /* Teal 600 #0D9488 */
  --primary-active: 15 118 110; /* Teal 700 #0F766E */
  --primary-foreground: 255 255 255;

  /* Accent: Coral for key CTAs (use sparingly ~10%) */
  --accent: 249 115 22;     /* Coral 500 #F97316 */
  --accent-hover: 234 88 12; /* Coral 600 #EA580C */
  --accent-active: 194 65 12; /* Coral 700 #C2410C */
  --accent-foreground: 255 255 255;

  /* Semantic colors */
  --success: 34 197 94;     /* Green 500 #22C55E */
  --success-hover: 22 163 74; /* Green 600 #16A34A */
  --warning: 245 158 11;    /* Amber 500 #F59E0B */
  --warning-hover: 217 119 6; /* Amber 600 #D97706 */
  --danger: 239 68 68;      /* Red 500 #EF4444 */
  --danger-hover: 220 38 38; /* Red 600 #DC2626 */
  --info: 37 99 235;        /* Blue 600 #2563EB */
  --info-hover: 29 78 216;  /* Blue 700 #1D4ED8 */

  /* surfaces */
  --surface: 255 255 255;
  --surface-hover: 248 250 252; /* slate-50 */
  --surface-active: 241 245 249; /* slate-100 */

  --ring: var(--primary);

  --radius: 0.75rem;        /* 12px rounded */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --easing: cubic-bezier(.2,.7,.3,1);
  --duration: 150ms;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: 2 6 23;           /* Navy 950 #020617 */
    --fg: 229 231 235;      /* #E5E7EB */
    --muted-fg: 148 163 184;/* #94A3B8 */
    --card: 11 18 32;       /* Navy 900 #0B1220 */
    --border: 31 41 55;     /* #1F2937 */

    --brand: 229 231 235;   /* lighter for dark mode */
    --brand-hover: 209 213 219;

    --primary: 45 212 191;  /* Teal 400 #2DD4BF */
    --primary-hover: 20 184 166; /* Teal 500 #14B8A6 */
    --primary-active: 13 148 136; /* Teal 600 #0D9488 */
    --primary-foreground: 15 23 42; /* Navy for contrast */

    --accent: 251 146 60;   /* Coral 400 #FB923C */
    --accent-hover: 249 115 22; /* Coral 500 #F97316 */
    --accent-active: 194 65 12; /* Coral 700 #C2410C */
    --accent-foreground: 15 23 42;

    --success: 34 197 94;     /* Green 500 #22C55E */
    --success-hover: 22 163 74;
    --warning: 245 158 11;    /* Amber 500 #F59E0B */
    --warning-hover: 217 119 6;
    --danger: 239 68 68;      /* Red 500 #EF4444 */
    --danger-hover: 220 38 38;
    --info: 37 99 235;        /* Blue 600 #2563EB */
    --info-hover: 29 78 216;

    --surface: 11 18 32;        /* Navy 900 */
    --surface-hover: 30 41 59;  /* slate-800 */
    --surface-active: 51 65 85; /* slate-700 */

    --ring: var(--primary);
  }
}

/* Allow explicit theme override via data-theme on html */
:root[data-theme="dark"] {
  --bg: 2 6 23;
  --fg: 229 231 235;
  --muted-fg: 148 163 184;
  --card: 11 18 32;
  --border: 31 41 55;
  --brand: 229 231 235;
  --brand-hover: 209 213 219;
  --primary: 45 212 191;
  --primary-hover: 20 184 166;
  --primary-active: 13 148 136;
  --primary-foreground: 15 23 42;
  --accent: 251 146 60;
  --accent-hover: 249 115 22;
  --accent-active: 194 65 12;
  --accent-foreground: 15 23 42;
  --success: 34 197 94;
  --success-hover: 22 163 74;
  --warning: 245 158 11;
  --warning-hover: 217 119 6;
  --danger: 239 68 68;
  --danger-hover: 220 38 38;
  --info: 37 99 235;
  --info-hover: 29 78 216;
  --surface: 11 18 32;
  --surface-hover: 30 41 59;
  --surface-active: 51 65 85;
  --ring: var(--primary);
}

/* Base layout */
html, body, #root { height: 100%; }
body {
  color: rgb(var(--fg));
  background: rgb(var(--bg));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Focus ring utility applied globally for better a11y */
:where(a, button, input, select, textarea, [role="button"]) {
  border-radius: var(--radius);
}
:where(a, button, input, select, textarea, [role="button"])::selection {
  background: rgb(var(--primary) / 0.2);
}
:where(a, button, input, select, textarea, [role="button"]) {
  outline: none;
}
:where(a, button, input, select, textarea, [role="button"]):focus-visible {
  box-shadow: 0 0 0 3px rgb(var(--primary) / 0.4);
}

/* Cards and borders helpers (for non-TW elements if any) */
.card {
  background: rgb(var(--card));
  border: 1px solid rgb(var(--border));
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
}

/* Interactive links */
a { color: rgb(var(--primary)); text-decoration: none; transition: color var(--duration) var(--easing), background-color var(--duration) var(--easing); }
a:hover { color: rgb(var(--primary-hover)); }
a:active { color: rgb(var(--primary-active)); }

/* Button primitives */
.btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; height: 2.5rem; padding-inline: 1rem; border-radius: var(--radius); font-size: 0.875rem; font-weight: 500; transition: background-color var(--duration) var(--easing), color var(--duration) var(--easing), border-color var(--duration) var(--easing), box-shadow var(--duration) var(--easing); }
.btn:focus-visible { box-shadow: 0 0 0 3px rgb(var(--primary) / 0.35); }
.btn:disabled { opacity: 0.6; cursor: not-allowed; }
.btn-primary { background: rgb(var(--primary)); color: rgb(var(--primary-foreground)); border: 1px solid transparent; }
.btn-primary:hover { background: rgb(var(--primary-hover)); }
.btn-primary:active { background: rgb(var(--primary-active)); }
.btn-outline { background: rgb(var(--surface)); color: rgb(var(--fg)); border: 1px solid rgb(var(--border)); }
.btn-outline:hover { background: rgb(var(--surface-hover)); }
.btn-outline:active { background: rgb(var(--surface-active)); }
.btn-danger { background: rgb(var(--danger)); color: white; border: 1px solid transparent; }
.btn-danger:hover { background: rgb(var(--danger-hover)); }
.btn-accent { background: rgb(var(--accent)); color: rgb(var(--accent-foreground)); border: 1px solid transparent; }
.btn-accent:hover { background: rgb(var(--accent-hover)); }
.btn-accent:active { background: rgb(var(--accent-active)); }
.btn-sm { height: 2.25rem; padding-inline: 0.75rem; font-size: 0.8125rem; }
.btn-lg { height: 2.75rem; padding-inline: 1.25rem; font-size: 0.9375rem; }

/* Active nav indicator utility */
.navlink { color: rgb(var(--muted-fg)); font-weight: 500; transition: color var(--duration) var(--easing), background-color var(--duration) var(--easing); border-radius: 0.5rem; padding: 0.375rem 0.5rem; }
.navlink:hover { color: rgb(var(--fg)); background: rgb(var(--surface-hover)); }
.navlink--active { color: rgb(var(--primary)); background: rgb(var(--primary) / 0.08); }


/* App-wide centered container (LinkedIn/Instagram-like max width) */
:root {
  --container-max: 72rem; /* ~1152px; tweak to taste */
}

.container-app {
  max-width: var(--container-max);
  margin-inline: auto;
  padding-inline: 1rem; /* gutters on small screens */
}
@media (min-width: 640px) {
  .container-app { padding-inline: 1.25rem; }
}
@media (min-width: 1024px) {
  .container-app { padding-inline: 1.5rem; }
}


/* Dashboard sections grid spacing via CSS (no inline utility classes) */
.dashboard-sections {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem; /* visible space between the four cards */
}
@media (min-width: 640px) { /* sm breakpoint */
  .dashboard-sections {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* Reusable card title styling for section headers */
.card-title {
  font-size: 1.125rem; /* a bit larger, not too large */
  line-height: 1.5;
  font-weight: 600;
  background: rgb(var(--surface-hover));
  color: rgb(var(--fg));
  padding: 0.5rem 0.75rem;
  border-radius: 0.5rem;
  margin-bottom: 0.75rem; /* clear space below heading */
}

/* Page content vertical padding to avoid touching screen edges */
:root {
  --page-pad-top: 1.5rem;    /* 24px comfortable top spacing */
  --page-pad-bottom: 1.25rem;/* 20px minimum bottom gap as requested */
}
.page-content {
  padding-top: var(--page-pad-top);
  padding-bottom: var(--page-pad-bottom);
}


/* Card padding utility */
:root { --card-pad: 1.25rem; }
.card-padded { padding: var(--card-pad); }


/* Relaxed list spacing for widgets */
.list-relaxed { display: grid; gap: 0.75rem; }

/* Filter label styling */
.filter-label {
  display: block;
  width: fit-content;
  font-size: 0.9375rem; /* ~15px */
  line-height: 1.4;
  font-weight: 600;
  background: rgb(var(--surface-hover));
  color: rgb(var(--fg));
  padding: 0.375rem 0.5rem; /* 6px 8px */
  border-radius: 0.5rem;
  margin-bottom: 0.375rem; /* space to the control below */
}

/* Receipts list spacing */
.receipts-list { display: grid; gap: 1rem; margin-top: 1rem; }

/* Sticky filters helper under the app header */
:root { --header-h: 56px; } /* default header height; adjust if header size changes */
.header-spacer { height: var(--header-h); }
.sticky-filters {
  position: sticky;
  top: calc(var(--header-h) + 0.5rem); /* small spacing below header */
  z-index: 30; /* below header (z-40) but above content */
  background: rgb(var(--bg));
  /* ensure the sticky block creates separation from the list below */
  margin-bottom: 0.75rem;
}

/* Collapse helpers for filter card */
.collapse-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
  cursor: pointer;
}
.collapse-chevron {
  transition: transform var(--duration) var(--easing);
}
.collapse-chevron[aria-expanded="true"] { transform: rotate(180deg); }
